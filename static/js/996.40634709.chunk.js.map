{"version":3,"file":"static/js/996.40634709.chunk.js","mappings":"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","sources":["components/UserForm/UserForm.styled.jsx","components/UserForm/UserForm.jsx","pages/ProfilePage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding: 20px 20px;\n  gap: 20px;\n\n  @media screen and (max-width: 767px) {\n    align-items: center;\n  }\n\n  @media screen and (min-width: 768px) {\n    gap: 30px;\n    padding: 20px 50px;\n  }\n\n  @media screen and (min-width: 1200px) {\n    padding: 20px 112px 80px;\n  }\n`;\n\nexport const Title = styled.h2`\n  text-align: center;\n  font-size: 18px;\n  line-height: 1.6;\n  color: var(--main-text);\n  margin: 30px 0;\n\n  @media screen and (min-width: 768px) {\n    font-size: 22px;\n  }\n\n  @media screen and (min-width: 1200px) {\n    font-size: 28px;\n  }\n`;\n\nexport const InputWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  @media screen and (max-width: 767px) {\n    align-items: center;\n  }\n`;\n\nexport const Label = styled.label`\n  color: var(--accent);\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 1.43;\n\n  & > span {\n    color: var(--main-text);\n    font-size: 9px;\n  }\n\n  @media screen and (min-width: 768px) {\n    & > span {\n      font-size: 12px;\n    }\n  }\n`;\n\nexport const Input = styled.input`\n  color: var(--main-text);\n  font-size: 16px;\n  line-height: 1.43;\n\n  min-width: 280px;\n  height: 50px;\n  padding: 12px 16px;\n\n  border-radius: 4px;\n  border: 2px solid rgba(33, 33, 33, 0.2);\n  transition: border var(--transition);\n\n  &:focus,\n  &:hover {\n    border: 2px solid var(--accent);\n    outline: transparent;\n  }\n\n  &:disabled {\n    border: none;\n    background-color: transparent;\n  }\n\n  @media screen and (max-width: 767px) {\n    max-width: 280px;\n  }\n\n  @media screen and (min-width: 768px) {\n    min-width: 320px;\n  }\n`;\n\nexport const Text = styled.p`\n  color: rgba(18, 20, 23, 0.5);\n  font-size: 12px;\n  line-height: 1.5;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 20px;\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    gap: 30px;\n  }\n`;\n\nexport const BtnWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 20px;\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    flex-wrap: wrap;\n    gap: 30px;\n  }\n`;\n\nexport const Btn = styled.button`\n  display: inline-block;\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 1.43;\n\n  min-width: 280px;\n  height: 50px;\n  padding: 12px 16px;\n  cursor: pointer;\n\n  border: none;\n  border-radius: 12px;\n  background: var(--accent);\n  color: var(--btn-text);\n  transition: background var(--transition);\n\n  :hover {\n    background: var(--hover);\n  }\n\n  @media screen and (max-width: 767px) {\n    max-width: 280px;\n  }\n\n  @media screen and (min-width: 768px) {\n    min-width: 320px;\n  }\n`;\n\nexport const Imges = styled.img`\n  margin-top: auto;\n`;\n","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectIsAdmin, selectVerifiedEmail } from 'redux/auth/selectors';\nimport {\n  resendVerifyUserEmail,\n  sendEmailAdminPermission,\n  updateUser,\n} from 'redux/auth/operations';\nimport {\n  Btn,\n  Wrapper,\n  Container,\n  Input,\n  InputWrapper,\n  Label,\n  Text,\n  Title,\n  Imges,\n  BtnWrapper,\n} from './UserForm.styled';\nimport Cars from 'images/car-rental.png';\n\nconst UserForm = () => {\n  const dispatch = useDispatch();\n  const verifiedEmail = useSelector(selectVerifiedEmail);\n  const isAdmin = useSelector(selectIsAdmin);\n  const { userName, email } = useSelector(state => state.auth.user);\n\n  const [name, setName] = useState(userName);\n  const [userEmail, setUserEmail] = useState(email);\n  const [disabledInput, setDisabledInput] = useState(true);\n\n  const sendVerifyCode = () => {\n    dispatch(resendVerifyUserEmail()).then(\n      ({ meta: { rejectedWithValue } }) => {\n        if (rejectedWithValue) {\n          toast.error('Oops, something went wrong! Please, try again.', {\n            position: toast.POSITION.TOP_RIGHT,\n          });\n        } else {\n          toast.success(\n            'The new verification letter has been sent successfully',\n            {\n              position: toast.POSITION.TOP_RIGHT,\n            }\n          );\n        }\n      }\n    );\n  };\n\n  const userUpdate = () => {\n    setDisabledInput(prev => !prev);\n\n    if (disabledInput) return;\n\n    if (userName === name && email === userEmail) {\n      toast.error('You have not changed any fields.', {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n      return;\n    }\n\n    dispatch(updateUser({ userName: name, email: userEmail })).then(\n      ({ meta: { rejectedWithValue } }) => {\n        if (rejectedWithValue) {\n          toast.error('Oops, something went wrong! Please, try again.', {\n            position: toast.POSITION.TOP_RIGHT,\n          });\n          setDisabledInput(prev => !prev);\n          return;\n        }\n      }\n    );\n\n    toast.success('You have successfully changed your credentials.', {\n      position: toast.POSITION.TOP_RIGHT,\n    });\n  };\n\n  const cancelFormSubmission = () => {\n    setDisabledInput(prev => !prev);\n    setName(userName);\n    setUserEmail(email);\n  };\n\n  return (\n    <>\n      <Title>Personal data</Title>\n\n      <Container>\n        <Wrapper>\n          <InputWrapper>\n            <Label htmlFor=\"name\">Name</Label>\n            <Input\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n              onChange={e => setName(e.target.value)}\n              value={name}\n              disabled={disabledInput}\n              autoComplete=\"off\"\n            />\n          </InputWrapper>\n\n          <InputWrapper>\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              onChange={e => setUserEmail(e.target.value)}\n              value={userEmail}\n              disabled={disabledInput}\n              autoComplete=\"off\"\n            />\n            <Text>\n              Your email is {verifiedEmail ? 'verified' : 'not verified'}\n            </Text>\n          </InputWrapper>\n        </Wrapper>\n\n        <BtnWrapper>\n          <Btn\n            type=\"button\"\n            onClick={() => {\n              userUpdate();\n            }}\n          >\n            {disabledInput ? 'Edit information' : 'Save'}\n          </Btn>\n          {!disabledInput && (\n            <Btn type=\"button\" onClick={cancelFormSubmission}>\n              Cancel\n            </Btn>\n          )}\n          {!verifiedEmail && (\n            <Btn type=\"button\" onClick={() => sendVerifyCode()}>\n              Send me the verification code\n            </Btn>\n          )}\n\n          {!isAdmin && (\n            <Btn\n              type=\"button\"\n              onClick={() => dispatch(sendEmailAdminPermission())}\n            >\n              I want to become an admin\n            </Btn>\n          )}\n        </BtnWrapper>\n\n        <Imges src={Cars} alt=\"other background cars\" />\n      </Container>\n    </>\n  );\n};\n\nexport default UserForm;\n","import UserForm from 'components/UserForm';\n\nconst ProfilePage = () => {\n  return <UserForm />;\n};\n\nexport default ProfilePage;\n"],"names":["Container","styled","div","_templateObject","_taggedTemplateLiteral","Title","h2","_templateObject2","InputWrapper","_templateObject3","Label","label","_templateObject4","Input","input","_templateObject5","Text","p","_templateObject6","Wrapper","_templateObject7","BtnWrapper","_templateObject8","Btn","button","_templateObject9","Imges","img","_templateObject10","dispatch","useDispatch","verifiedEmail","useSelector","selectVerifiedEmail","isAdmin","selectIsAdmin","_useSelector","state","auth","user","userName","email","_useState","useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","userEmail","setUserEmail","_useState5","_useState6","disabledInput","setDisabledInput","_jsxs","_Fragment","children","_jsx","htmlFor","id","type","onChange","e","target","value","disabled","autoComplete","onClick","prev","updateUser","then","_ref2","meta","rejectedWithValue","toast","error","position","POSITION","TOP_RIGHT","success","resendVerifyUserEmail","_ref","sendEmailAdminPermission","src","Cars","alt","UserForm"],"sourceRoot":""}